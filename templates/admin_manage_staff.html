<!DOCTYPE html>
<html>
<head>
<title>Manage Staff | Quiz Master</title>

<style>
:root{
    --bg-dark:#0F2A30;
    --bg-mid:#1F3E46;
    --card:#3E5A61;
    --accent:#1FE1FF;
    --text-main:#FFFFFF;
    --text-muted:#9FB4BA;
    --border-soft:rgba(255,255,255,0.15);
}

body{
    background:linear-gradient(135deg,var(--bg-mid),var(--bg-dark));
    color:var(--text-main);
    font-family:Segoe UI;
    padding:40px;
}

.container{
    max-width:1000px;
    margin:auto;
}

h2{
    margin-bottom:20px;
}

.search-box{
    width:420px;
    padding:12px;
    border-radius:14px;
    border:none;
    background:#2b474e;
    color:var(--text-main);
    margin-bottom:18px;
}

table{
    width:100%;
    border-collapse:collapse;
    background:var(--card);
    border-radius:16px;
    overflow:hidden;
}

th,td{
    padding:14px 16px;
    text-align:left;
}

th{
    background:#2b474e;
}

.btn{
    border:none;
    background:none;
    font-weight:600;
    cursor:pointer;
}

.back-btn{
    margin-top:25px;
    width:100%;
    padding:14px;
    border-radius:30px;
    border:none;
    background:var(--accent);
    font-weight:600;
}
</style>
</head>

<body>

<div class="container">
    <h2>Manage Staff</h2>

    <form method="get">
        <input class="search-box" type="text" name="search"
               placeholder="Search staff by name..." value="{{ search }}">
    </form>

    <table>
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Status</th>
            <th>Quizzes Created</th>
            <th>Action</th>
        </tr>

        {% for staff, user, quiz_count in staff_list %}
        <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{{ "Blocked" if staff.flag else "Active" }}</td>
            <td>{{ quiz_count }}</td>
            <td>
                {% if staff.flag %}
                    <button class="btn">Unblock</button>
                {% else %}
                    <button class="btn">Block</button>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </table>

    <button class="back-btn" onclick="location.href='/admin-dashboard'">
        Back to Dashboard
    </button>
</div>

</body>
</html>
